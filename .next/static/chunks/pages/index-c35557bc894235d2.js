(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4500)}])},4500:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(5893),s=n(7294),l=n(7568),a=n(797),i=n(4051),o=n.n(i),u=n(4105);function c(e){var t=e.setUrls,n=e.foundUrls,i=void 0===n?[]:n,c=e.notFoundUrls,d=void 0===c?[]:c,f=(0,s.useState)(null),m=f[0],h=f[1],p=(0,s.useState)(!1),x=p[0],b=p[1],g=function(){var e=(0,l.Z)(o().mark((function e(){var n,r,s,l,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=10;break}return e.next=3,m.arrayBuffer();case 3:n=e.sent,r=u.ij(n),s=r.Sheets[r.SheetNames[0]],l=u.P6.sheet_to_json(s,{header:1}),a=l.flat().filter((function(e){return"string"===typeof e})),t(a),b(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.jsxs)("div",{className:"mb-6 p-4 bg-gray-100 rounded-lg",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Upload Excel File"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("input",{type:"file",onChange:function(e){e.target.files&&(h(e.target.files[0]),b(!1))},accept:".xlsx,.xls","data-text":"Choose file",className:"file-input file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),(0,r.jsx)("button",{onClick:g,className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded transition duration-300",disabled:!m,children:"Upload File"})]}),x&&(0,r.jsx)("p",{className:"mt-2 text-green-600",children:"File uploaded successfully!"}),(i&&i.length>0||d&&d.length>0)&&(0,r.jsx)("button",{onClick:function(){var e=u.P6.aoa_to_sheet([["Found URLs","Not Found URLs"]].concat((0,a.Z)(Array.from({length:Math.max(i.length,d.length)},(function(e,t){return[i[t]||"",d[t]||""]}))))),t=u.P6.book_new();u.P6.book_append_sheet(t,e,"URL Report"),u.NC(t,"url_report.xlsx")},className:"mt-4 bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded transition duration-300",children:"Pobierz raport"})]})}var d=n(9669),f=n.n(d),m=n(5055);function h(e){var t=e.urls,n=(0,s.useState)([]),a=(n[0],n[1]),i=(0,s.useState)([]),c=i[0],d=i[1],h=(0,s.useState)(""),p=h[0],x=h[1],b=(0,s.useState)(!1),g=b[0],v=b[1],N=(0,s.useState)(null),j=N[0],_=N[1],w=function(){var e=(0,l.Z)(o().mark((function e(){var t,n,r,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,v(!0),e.next=6,f().get("/api/fetch-sitemap?url=".concat(encodeURIComponent(p)));case 6:return t=e.sent,n=new m.Parser,e.next=10,n.parseStringPromise(t.data);case 10:r=e.sent,s=r.urlset.url.map((function(e){return e.loc[0]})),a(s),k(s),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),console.error("Error fetching sitemap:",e.t0),d([]);case 20:return e.prev=20,v(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[2,16,20,23]])})));return function(){return e.apply(this,arguments)}}(),k=function(e){if(t&&0!==t.length&&e&&0!==e.length){var n=t.map((function(t){return{url:t,inSitemap:e.includes(t)}}));d(n)}else d([])};return(0,r.jsxs)("div",{className:"mt-6 p-4 bg-gray-100 rounded-lg",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Check Sitemap"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"sitemapUrl",className:"block mb-2 font-medium",children:"Sitemap URL:"}),(0,r.jsx)("input",{type:"text",id:"sitemapUrl",value:p,onChange:function(e){var t=e.target.value;x(t),_(/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(t))},className:"w-full px-3 py-2 border rounded ".concat(!1===j?"border-red-500":j?"border-green-500":"")}),!1===j&&(0,r.jsx)("p",{className:"mt-1 text-red-500",children:"Please enter a valid URL"})]}),(0,r.jsx)("button",{onClick:function(){p&&j&&w()},className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded transition duration-300 mb-4",disabled:g||!p||!j,children:g?"Checking...":"Check Sitemap"}),c.length>0&&(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Check Results:"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"font-medium mb-2 text-green-600",children:["Found URLs (",c.filter((function(e){return e.inSitemap})).length,")"]}),(0,r.jsx)("ul",{className:"bg-white rounded-lg p-2 max-h-60 overflow-y-auto",children:c.filter((function(e){return e.inSitemap})).map((function(e,t){return(0,r.jsx)("li",{className:"text-sm mb-1",children:e.url},t)}))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"font-medium mb-2 text-red-600",children:["Not found URLs (",c.filter((function(e){return!e.inSitemap})).length,")"]}),(0,r.jsx)("ul",{className:"bg-white rounded-lg p-2 max-h-60 overflow-y-auto",children:c.filter((function(e){return!e.inSitemap})).map((function(e,t){return(0,r.jsx)("li",{className:"text-sm mb-1",children:e.url},t)}))})]})]}),(0,r.jsx)("button",{onClick:function(){var e=c.filter((function(e){return e.inSitemap})).map((function(e){return e.url})),t=c.filter((function(e){return!e.inSitemap})).map((function(e){return e.url})),n=Math.max(e.length,t.length),r=Array(n).fill(null).map((function(n,r){return{"Found URLs":e[r]||"","Not Found URLs":t[r]||""}})),s=u.P6.json_to_sheet(r);s["!cols"]=[{wch:50},{wch:50}];for(var l={fgColor:{rgb:"90EE90"}},a={fgColor:{rgb:"FFC0CB"}},i=0;i<n+1;i++){var o=u.P6.encode_cell({r:i,c:0}),d=u.P6.encode_cell({r:i,c:1});s[o]||(s[o]={}),s[d]||(s[d]={}),s[o].s={fill:l},s[d].s={fill:a}}var f=u.P6.book_new();u.P6.book_append_sheet(f,s,"Raport"),u.NC(f,"raport_sitemap.xlsx")},className:"mt-4 bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded transition duration-300",children:"Pobierz raport XLSX"})]})]})}function p(){var e=(0,s.useState)([]),t=e[0],n=e[1];return(0,r.jsxs)("div",{className:"container mx-auto p-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Sitemap Checker"}),(0,r.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,r.jsx)(c,{setUrls:n}),(0,r.jsx)(h,{urls:t})]})]})}},67:function(){},2061:function(){}},function(e){e.O(0,[251,7,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);